<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <title>黑金喵農場</title>
  <!-- 在<head>區域中引入jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">黑金喵農場</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">配置器</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">各項資訊</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container mt-4">
  <h2>技能配置</h2>
  <div class="row">
    <!-- 技能格子，lg以上顯示col-lg-2，其餘顯示col-4 -->
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill1">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <!-- 其他技能格子... -->
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill2">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill3">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill4">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill5">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill6">
        <img src="path/to/skill0.jpg" alt="技能圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
  </div>
</div>

<!-- 技能清單的彈出視窗 -->
<div class="modal fade" id="skillListModal" tabindex="-1" role="dialog" aria-labelledby="skillListModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="skillListModalLabel">技能清單</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- 技能清單內容 -->
        <div class="container">
          <div class="row">
            <!-- 技能清單中的每個格子，包括圖片等信息 -->
            <div id="skillList0" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
              <img src="path/to/skill0.jpg" class="img-fluid">
            </div>
            <div id="skillList1" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill1.jpg" class="img-fluid">
            </div>
            <div id="skillList2" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill2.jpg" class="img-fluid">
            </div>
            <div id="skillList3" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill3.jpg" class="img-fluid">
            </div>
            <div id="skillList4" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill4.jpg" class="img-fluid">
            </div>
            <div id="skillList5" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill5.jpg" class="img-fluid">
            </div>
            <div id="skillList6" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill6.jpg" class="img-fluid">
            </div>
            <div id="skillList7" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill7.jpg" class="img-fluid">
            </div>
            <div id="skillList8" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill8.jpg" class="img-fluid">
            </div>
            <div id="skillList9" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill9.jpg" class="img-fluid">
            </div>
            <div id="skillList10" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill10.jpg" class="img-fluid">
            </div>
            <div id="skillList11" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill11.jpg" class="img-fluid">
            </div>
            <div id="skillList12" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill12.jpg" class="img-fluid">
            </div>
            <div id="skillList13" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill13.jpg" class="img-fluid">
            </div>
            <div id="skillList14" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill14.jpg" class="img-fluid">
            </div>
            <div id="skillList15" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill15.jpg" class="img-fluid">
            </div>
            <div id="skillList16" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill16.jpg" class="img-fluid">
            </div>
            <div id="skillList17" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill17.jpg" class="img-fluid">
            </div>
            <div id="skillList18" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill18.jpg" class="img-fluid">
            </div>
            <div id="skillList19" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill19.jpg" class="img-fluid">
            </div>
            <div id="skillList20" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill20.jpg" class="img-fluid">
            </div>
            <div id="skillList21" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill21.jpg" class="img-fluid">
            </div>
            <div id="skillList22" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill22.jpg" class="img-fluid">
            </div>
            <div id="skillList23" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill23.jpg" class="img-fluid">
            </div>
            <div id="skillList24" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill24.jpg" class="img-fluid">
            </div>
            <div id="skillList25" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill25.jpg" class="img-fluid">
            </div>
            <div id="skillList26" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill26.jpg" class="img-fluid">
            </div>
            <div id="skillList27" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill27.jpg" class="img-fluid">
            </div>
            <div id="skillList28" class="col-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill28.jpg" class="img-fluid">
            </div>
            <!-- 其他技能清單中的每個格子... -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 技能詳細信息的彈出視窗 -->
<div class="modal fade" id="skillDetailModal" tabindex="-1" role="dialog" aria-labelledby="skillDetailModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="skillDetailModalLabel">技能詳細信息</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- 在技能詳細信息模態框的modal-body中使用Card的格式 -->
      <div class="card">
        <img id="selectedSkillImage" class="card-img-top" alt="選擇的技能圖片" width="50%">
        <div class="card-body">
            <h5 class="card-title" id="selectedSkillName">技能名稱</h5>
            <p class="card-text" id="selectedSkillDescription">技能詳細說明...</p>
          <div class="form-group">
            <label for="skillLevelInput">等級設定：</label>
            <input type="range" class="form-control-range" id="skillLevelInput" min="1" max="10" value="1">
            <span id="currentSkillLevel">等級：1</span>
          </div>
          <button type="button" class="btn btn-primary" id="addSkillBtn">新增技能</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- 在你的HTML文件底部添加以下JavaScript代碼 -->
<script>
$(document).ready(function () {
    var skillsData = {
    skill0: {
      name: "",
      description: ""
    },
    skill1: {
      name: "晚餐時間",
      description: "一次發射8個造成攻擊力67%的追蹤飛彈。"
    },
    // 其他技能...
    skill2: {
      name: "砲彈鼠",
      description: "召喚即將爆炸的鼠型機器人並造成攻擊力136%的範圍傷害。"
    },
    skill3: {
      name: "超級喵喵",
      description: "超級喵星人將爆衝飛下並造成攻擊力285%的傷害。"
    },
    skill4: {
      name: "馬戲團法圈",
      description: "在4秒內可每秒投出2次球球來造成攻擊力85%的傷害。"
    },
    skill5: {
      name: "甜點流星",
      description: "墮落5個餅乾流星並對擊中的敵人造成攻擊力63%傷害。"
    },
    skill6: {
      name: "葉子飛鏢",
      description: "對直線範圍上的敵人造成攻擊力20%的傷害。"
    },
    skill7: {
      name: "冰霜碎片",
      description: "召喚一邊旋轉一邊發射碎片的雪花。雪花碎片的可造成攻擊力29%的傷害。"
    },
    skill8: {
      name: "",
      description: "。"
    },
    skill9: {
      name: "",
      description: "。"
    },
    skill10: {
      name: "",
      description: "。"
    },
    skill11: {
      name: "",
      description: "。"
    },
    skill12: {
      name: "",
      description: "。"
    },
    skill13: {
      name: "",
      description: "。"
    },
    skill14: {
      name: "",
      description: "。"
    },
    skill15: {
      name: "",
      description: "。"
    },
    skill16: {
      name: "",
      description: "。"
    },
    skill17: {
      name: "",
      description: "。"
    },
    skill18: {
      name: "",
      description: "。"
    },
    skill19: {
      name: "",
      description: "。"
    },
    skill20: {
      name: "",
      description: "。"
    },
    skill21: {
      name: "",
      description: "。"
    },
    skill22: {
      name: "",
      description: "。"
    },
    skill23: {
      name: "",
      description: "。"
    },
    skill24: {
      name: "",
      description: "。"
    },
    skill25: {
      name: "",
      description: "。"
    },
    skill26: {
      name: "",
      description: "。"
    },
    skill27: {
      name: "",
      description: "。"
    },
    skill28: {
      name: "",
      description: "。"
    },
  };
  var selectedSkillImg = ''; // 用來保存選中的技能圖片
  var selectedSkillBoxId = ''; // 用來保存選中的技能格子的ID

  // 技能清單的彈出視窗
  $('#skillListModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var modal = $(this);

    // 技能清單中的每個格子，包括圖片等信息
    modal.find('.skill-list-box').click(function () {
  var skillId = $(this).attr('id').replace('skillList', '');
  var selectedSkillName=document.getElementById("selectedSkillName");
  var selectedSkillDescription=document.getElementById("selectedSkillDescription");

  skillId = parseInt(skillId);

  var selectedSkill = skillsData['skill' + skillId];

  selectedSkillImg = $(this).find('img').attr('src');
  selectedSkillName.innerText=selectedSkill.name;
  selectedSkillDescription.innerText=selectedSkill.description;

  console.log('選中的技能圖片：', selectedSkillImg);
});

});

  // 技能詳細信息模態框
  $('#skillDetailModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var skillId = button.attr('id'); // 獲取技能的 ID
    var modal = $(this);

    // 在模態框標題中顯示技能名稱
    modal.find('.modal-title').text('技能詳細信息');

    // 設定拖拉的 bar 的範例
    var skillLevelInput = modal.find('#skillLevelInput');
    var currentSkillLevel = modal.find('#currentSkillLevel');
    var skillImage = modal.find('#selectedSkillImage'); // 技能圖片的元素

    // 將技能圖片設置為選中的技能圖片
    skillImage.attr('src', selectedSkillImg);

    // 縮小技能圖片
    skillImage.css('max-width', '50%');

    skillLevelInput.change(function () {
      var selectedLevel = skillLevelInput.val();
      currentSkillLevel.text('等級：' + selectedLevel);
      // 在這裡可以進行相應的處理，比如顯示不同等級的技能效果
      console.log('選擇的等級：' + selectedLevel);
    });

    // 新增按鈕的點擊事件
    modal.find('#addSkillBtn').click(function () {
      // 1. 更新最外層頁面上被點擊的技能配置
      $('#' + selectedSkillBoxId + ' img').attr('src', selectedSkillImg);

      // 2. 更新技能配置的技能名稱為等級：0
      $('#' + selectedSkillBoxId + ' p').text('等級：' + skillLevelInput.val());

      // 3. 關閉技能詳細信息的模態框
      $('.modal').modal('hide');
    });
  });

  // 技能配置的每個格子的點擊事件
  $('.skill-box').click(function () {
    selectedSkillBoxId = $(this).attr('id');
    // 在這裡你可以進行一些其他的處理，比如顯示選中技能的詳細信息等
    console.log('選中的技能格子 ID：', selectedSkillBoxId);
  });
});


</script>

</body>
</html>

