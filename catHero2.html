<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <title>黑金喵農場</title>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
</head>
<body>

<!--頂端清單-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand fs-1" href="index.html" id="top">黑金喵農場</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse fs-4" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="Untitled-1.html">配置器</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="Untitled-2.html">各項資訊</a>
      </li>
    </ul>
  </div>
</nav>

<!--技能配置-->
<div class="container mt-4">
  <h2>技能配置</h2>
  <div class="row">
    <!-- 技能格子，lg以上顯示col-lg-2，其餘顯示col-4 -->
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill1">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <!-- 其他技能格子... -->
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill2">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill3">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill4">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill5">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 skill-box" data-toggle="modal" data-target="#skillListModal" id="skill6">
        <img src="path/to/skill0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="skillLevel1">等級：1</p>
    </div>
  </div>
</div>

<!-- 技能清單的彈出視窗 -->
<div class="modal fade" id="skillListModal" tabindex="-1" role="dialog" aria-labelledby="skillListModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="skillListModalLabel">技能清單</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- 技能清單內容 -->
        <div class="container">
          <div class="row">
            <!-- 技能清單中的每個格子，包括圖片等信息 -->
            <div id="skillList0" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
              <img src="path/to/skill0.jpg" class="img-fluid">
            </div>
            <div id="skillList1" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill1.jpg" class="img-fluid">
            </div>
            <div id="skillList2" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill2.jpg" class="img-fluid">
            </div>
            <div id="skillList3" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill3.jpg" class="img-fluid">
            </div>
            <div id="skillList4" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill4.jpg" class="img-fluid">
            </div>
            <div id="skillList5" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill5.jpg" class="img-fluid">
            </div>
            <div id="skillList6" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill6.jpg" class="img-fluid">
            </div>
            <div id="skillList7" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill7.jpg" class="img-fluid">
            </div>
            <div id="skillList8" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill8.jpg" class="img-fluid">
            </div>
            <div id="skillList9" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill9.jpg" class="img-fluid">
            </div>
            <div id="skillList10" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill10.jpg" class="img-fluid">
            </div>
            <div id="skillList11" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill11.jpg" class="img-fluid">
            </div>
            <div id="skillList12" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill12.jpg" class="img-fluid">
            </div>
            <div id="skillList13" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill13.jpg" class="img-fluid">
            </div>
            <div id="skillList14" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill14.jpg" class="img-fluid">
            </div>
            <div id="skillList15" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill15.jpg" class="img-fluid">
            </div>
            <div id="skillList16" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill16.jpg" class="img-fluid">
            </div>
            <div id="skillList17" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill17.jpg" class="img-fluid">
            </div>
            <div id="skillList18" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill18.jpg" class="img-fluid">
            </div>
            <div id="skillList19" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill19.jpg" class="img-fluid">
            </div>
            <div id="skillList20" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill20.jpg" class="img-fluid">
            </div>
            <div id="skillList21" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill21.jpg" class="img-fluid">
            </div>
            <div id="skillList22" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill22.jpg" class="img-fluid">
            </div>
            <div id="skillList23" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill23.jpg" class="img-fluid">
            </div>
            <div id="skillList24" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill24.jpg" class="img-fluid">
            </div>
            <div id="skillList25" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill25.jpg" class="img-fluid">
            </div>
            <div id="skillList26" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill26.jpg" class="img-fluid">
            </div>
            <div id="skillList27" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill27.jpg" class="img-fluid">
            </div>
            <div id="skillList28" class="col-3 mb-3 skill-list-box" data-toggle="modal" data-target="#skillDetailModal">
                <img src="path/to/skill28.jpg" class="img-fluid">
            </div>
            <!-- 其他技能清單中的每個格子... -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 技能詳細信息的彈出視窗 -->
<div class="modal fade" id="skillDetailModal" tabindex="-1" role="dialog" aria-labelledby="skillDetailModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="skillDetailModalLabel">技能詳細信息</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- 在技能詳細信息模態框的modal-body中使用Card的格式 -->
      <div class="card">
        <img id="selectedSkillImage" class="card-img-top" alt="選擇的夥伴圖片" width="50%">
        <div class="card-body">
            <h5 class="card-title" id="selectedSkillName">技能名稱</h5>
            <p class="card-text" id="selectedSkillDescription">技能詳細說明...</p>
          <div class="form-group">
            <label for="skillLevelInput">等級設定：</label>
            <input type="range" class="form-control-range" id="skillLevelInput" min="1" max="10" value="1">
            <span id="currentSkillLevel">等級：1</span>
          </div>
          <button type="button" class="btn btn-primary" id="addSkillBtn">新增技能</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>//技能配置JS
$(document).ready(function () {
    var skillsData = {
    skill0: {
      name: "",
      description: ""
    },
    skill1: {
      name: "晚餐時間",
      description: "一次發射8個造成攻擊力42%的追蹤飛彈。",
      level1: "42",
      level2: "50",
      level3: "",
      level4: "67",
      level5: "75",
      level6: "83",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill2: {
      name: "砲彈鼠",
      description: "召喚即將爆炸的鼠型機器人並造成攻擊力85%的範圍傷害。",
      level1: "85",
      level2: "102",
      level3: "",
      level4: "136",
      level5: "153",
      level6: "170",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill3: {
      name: "超級喵喵",
      description: "超級喵星人將爆衝飛下並造成攻擊力178%的傷害。",
      level1: "178",
      level2: "214",
      level3: "",
      level4: "285",
      level5: "320",
      level6: "356",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill4: {
      name: "馬戲團法圈",
      description: "在4秒內可每秒投出2次球球來造成攻擊力53%的傷害。",
      level1: "53",
      level2: "64",
      level3: "",
      level4: "85",
      level5: "96",
      level6: "107",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill5: {
      name: "甜點流星",
      description: "墮落5個餅乾流星並對擊中的敵人造成攻擊力45%傷害。",
      level1: "45",
      level2: "",
      level3: "63",
      level4: "72",
      level5: "81",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill6: {
      name: "葉子飛鏢",
      description: "對直線範圍上的敵人造成攻擊力14%的傷害。",
      level1: "14",
      level2: "",
      level3: "20",
      level4: "22",
      level5: "25",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill7: {
      name: "冰霜碎片",
      description: "召喚一邊旋轉一邊發射碎片的雪花。雪花碎片的可造成攻擊力18%的傷害。",
      level1: "18",
      level2: "",
      level3: "25",
      level4: "29",
      level5: "32",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill8: {
      name: "咻咻咻咻",
      description: "以尖利的爪子造成12次攻擊力23%的傷害。",
      level1: "23",
      level2: "",
      level3: "45",
      level4: "51",
      level5: "58",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill9: {
      name: "氣噗噗！",
      description: "在5秒內攻擊速度增加40%。可疊加［氣噗噗！］的效果。",
      level1: "40",
      level2: "",
      level3: "",
      level4: "43",
      level5: "44",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill10: {
      name: "超強力火箭",
      description: "發射超強力火箭並造成攻擊力107%的範圍傷害。",
      level1: "107",
      level2: "",
      level3: "150",
      level4: "171",
      level5: "192",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill11: {
      name: "鮮魚散彈",
      description: "發射12個留碳纖餘並造成攻擊力60%的傷害。",
      level1: "60",
      level2: "",
      level3: "84",
      level4: "96",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill12: {
      name: "稻草貓",
      description:"召喚維持3秒的稻草貓來每秒造成{areaDamagePercent}%的範圍傷害且施加［恐怖效果］並在2秒內增加{damagePercent}%的傷害。",
      level1: ["7","7"],
      level2: "",
      level3: ["9","9"],
      level4: ["11","58"],
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill13: {
      name: "漩渦",
      description: "召喚維持5秒的漩渦，並對範圍內的敵人在每秒造成4次攻擊力13%的傷害。",
      level1: "13",
      level2: "15",
      level3: "18",
      level4: "20",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill14: {
      name: "魔法盾牌",
      description: "在13秒內所受傷害減少30%。",
      level1: "30",
      level2: "",
      level3: "32",
      level4: "33",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill15: {
      name: "飛雞",
      description: "召喚即將爆炸的3台機械飛雞來造成攻擊力79%的範圍傷害。",
      level1: "79",
      level2: "",
      level3: "111",
      level4: "126",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill16: {
      name: "魔法壓縮",
      description: "將敵人拖曳至一處並造成攻擊力45%的範圍傷害。",
      level1: "45",
      level2: "",
      level3: "63",
      level4: "72",
      level5: "81",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill17: {
      name: "墨水噴發",
      description: "召喚海盜章魚對範圍內的敵人噴射墨水來造成1000%的範圍傷害，並施加[失明效果]且在8秒內減少敵方40%的攻擊力。",
      level1: "1000",
      level2: "1200",
      level3: "1400",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill18: {
      name: "漢堡派對",
      description: "於4秒內可每秒投擲2次和寶材料來造成攻擊力350%的傷害。",
      level1: "350",
      level2: "420",
      level3: "490",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill19: {
      name: "魔法弓箭",
      description: "召喚維持5秒的魔法弓箭，並在每秒發射5次貫通箭矢來造成攻擊力240%的傷害。",
      level1: "240",
      level2: "",
      level3: "336",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill20: {
      name: "滿月",
      description: "召喚維持5秒的巨型喵勇士且額外投擲6個基本攻擊先於並造成攻擊力80%的傷害。",
      level1: "80",
      level2: "96",
      level3: "112",
      level4: "128",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill21: {
      name: "喵隕石",
      description: "墜落15個喵喵隕石來對被集中的敵人造成攻擊力600%的傷害。",
      level1: "600",
      level2: "720",
      level3: "840",
      level4: "960",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill22: {
      name: "喵喵光束",
      description: "召喚維持10秒的光束機器喵，在射程範圍內的敵人將每秒受到3次攻擊力400%的傷害。",
      level1: "400",
      level2: "480",
      level3: "560",
      level4: "640",
      level5: "720",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill23: {
      name: "海盜標識",
      description: "召喚海盜貓咪來對所有敵人標記海盜標誌。被標記的敵人在受到[貓咪]或[海盜]類的技能攻擊時，標誌將爆炸並額外施加300%的傷害。",
      level1: "300",
      level2: "360",
      level3: "420",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill24: {
      name: "夜曲召喚",
      description: "召喚夜曲來造成攻擊力3000%的範圍傷害，並施加[恐怖效果]且在5秒內增加50%的所受傷害。",
      level1: "3000",
      level2: "3600",
      level3: "",
      level4: "4800",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill25: {
      name: "黑洞",
      description: "召喚維持5秒會把敵人吸引至一處的黑洞並對陷入黑洞內的敵人造成每秒2次攻擊力300%的傷害。",
      level1: "300",
      level2: "360",
      level3: "",
      level4: "480",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill26: {
      name: "鯨魚艦",
      description: "召喚進擊的巨大鯨魚飛鑑來對範圍內的敵人造成每秒3次攻擊力1200%的傷害。",
      level1: "1200",
      level2: "1440",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill27: {
      name: "貓貓軍團",
      description: "施放時10秒開啟天空之門，配戴貓類技能時，將會額外使出強化技能，強化技能為基礎技能昌害值增加20000%的額外傷害。",
      level1: "20000",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    skill28: {
      name: "深海復仇",
      description: "向所有敵人留下咬痕，並在咬痕內保存傷害量。2秒後召喚深海的巨大鯊魚，造成攻擊力的30000%傷害後，再造成儲存傷害量的15000%之傷害。",
      level1: "15000",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
  };
  var selectedSkillImg = ''; // 用來保存選中的夥伴圖片
  var selectedSkillBoxId = ''; // 用來保存選中的技能格子的ID

  // 技能清單的彈出視窗
  $('#skillListModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var modal = $(this);

    // 技能清單中的每個格子，包括圖片等信息
    modal.find('.skill-list-box').click(function () {
      var skillId = $(this).attr('id').replace('skillList', '');
      var selectedSkillName=document.getElementById("selectedSkillName");
      var selectedSkillDescription=document.getElementById("selectedSkillDescription");
      skillId = parseInt(skillId);
      var selectedSkill = skillsData['skill' + skillId];

      selectedSkillImg = $(this).find('img').attr('src');
      selectedSkillName.innerText=selectedSkill.name;
      selectedSkillDescription.innerText=selectedSkill.description;
    });
});

  // 技能詳細信息模態框
  $('#skillDetailModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var skillId = button.attr('id').replace('skillList', ''); // 獲取技能的 ID
    var modal = $(this);
    
    var selectedSkill = skillsData['skill' + skillId];

    // 在模態框標題中顯示技能名稱
    modal.find('.modal-title').text('技能詳細信息');

    // 設定拖拉的 bar 的範例
    var skillLevelInput = modal.find('#skillLevelInput');
    var currentSkillLevel = modal.find('#currentSkillLevel');
    var skillImage = modal.find('#selectedSkillImage'); // 夥伴圖片的元素

    // 將夥伴圖片設置為選中的夥伴圖片
    skillImage.attr('src', selectedSkillImg);

    // 縮小夥伴圖片
    skillImage.css('max-width', '50%');

    skillLevelInput.change(function () {
      var selectedLevel = skillLevelInput.val();
      var selectSkillLevel1 = selectedSkill['level1'];
      var selectSkillLevel = selectedSkill['level'+selectedLevel];
      currentSkillLevel.text('等級：' + selectedLevel);

      if(Array.isArray(selectSkillLevel) && selectSkillLevel.length > 0){
        var areaDamagePercentValue = selectedSkill['level' + selectedLevel] || []; // 如果對應等級的值不存在，則使用空陣列
        var i=0;
        var skillDescription = selectedSkill.description
          .replace(/\{areaDamagePercent\}/g, areaDamagePercentValue[i++])
          .replace(/\{damagePercent\}/g, areaDamagePercentValue[i]);
      }else{
        var skillDescription = selectedSkill.description.replace(selectSkillLevel1,selectSkillLevel);
      }
      
      // 更新技能詳細說明
      modal.find('#selectedSkillDescription').text(skillDescription);

      console.log('選擇的等級：' + selectedLevel);
      // 在這裡可以進行相應的處理，比如顯示不同等級的技能效果
    });

    // 新增按鈕的點擊事件
    modal.find('#addSkillBtn').click(function () {
      // 1. 更新最外層頁面上被點擊的技能配置
      $('#' + selectedSkillBoxId + ' img').attr('src', selectedSkillImg);

      // 2. 更新技能配置的技能名稱為等級：0
      $('#' + selectedSkillBoxId + ' p').text('等級：' + skillLevelInput.val());

      // 3. 關閉技能詳細信息的模態框
      $('.modal').modal('hide');
    });
  });

  // 技能配置的每個格子的點擊事件
  $('.skill-box').click(function () {
    selectedSkillBoxId = $(this).attr('id');
    // 在這裡你可以進行一些其他的處理，比如顯示選中技能的詳細信息等
  });
});
</script>

<!--夥伴-->

<!--夥伴配置-->
<div class="container mt-4">
  <h2>夥伴配置&nbsp;&nbsp;魔力<span id="mpValue">0</span>/30</h2>
  <div class="row">
    <!-- 夥伴格子，lg以上顯示col-lg-2，其餘顯示col-4 -->
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner1">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner2">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner3">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner4">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner5">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
    <div class="col-lg-2 col-4 partner-box" data-toggle="modal" data-target="#partnerListModal" id="partner6">
        <img src="path/to/partner0.jpg" alt="夥伴圖片" class="img-fluid">
        <p id="partnerLevel1">等級：1</p>
    </div>
  </div>
</div>

<!-- 夥伴清單的彈出視窗 -->
<div class="modal fade" id="partnerListModal" tabindex="-1" role="dialog" aria-labelledby="partnerListModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="partnerListModalLabel">夥伴清單</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- 夥伴清單內容 -->
        <div class="container">
          <div class="row">
            <!-- 夥伴清單中的每個格子，包括圖片等信息 -->
            <div id="partnerList0" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
              <img src="path/to/partner0.jpg" class="img-fluid">
            </div>
            <div id="partnerList1" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner1.jpg" class="img-fluid">
            </div>
            <div id="partnerList2" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner2.jpg" class="img-fluid">
            </div>
            <div id="partnerList3" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner3.jpg" class="img-fluid">
            </div>
            <div id="partnerList4" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner4.jpg" class="img-fluid">
            </div>
            <div id="partnerList5" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner5.jpg" class="img-fluid">
            </div>
            <div id="partnerList6" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner6.jpg" class="img-fluid">
            </div>
            <div id="partnerList7" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner7.jpg" class="img-fluid">
            </div>
            <div id="partnerList8" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner8.jpg" class="img-fluid">
            </div>
            <div id="partnerList9" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner9.jpg" class="img-fluid">
            </div>
            <div id="partnerList10" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner10.jpg" class="img-fluid">
            </div>
            <div id="partnerList11" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner11.jpg" class="img-fluid">
            </div>
            <div id="partnerList12" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner12.jpg" class="img-fluid">
            </div>
            <div id="partnerList13" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner13.jpg" class="img-fluid">
            </div>
            <div id="partnerList14" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner14.jpg" class="img-fluid">
            </div>
            <div id="partnerList15" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner15.jpg" class="img-fluid">
            </div>
            <div id="partnerList16" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner16.jpg" class="img-fluid">
            </div>
            <div id="partnerList17" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner17.jpg" class="img-fluid">
            </div>
            <div id="partnerList18" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner18.jpg" class="img-fluid">
            </div>
            <div id="partnerList19" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner19.jpg" class="img-fluid">
            </div>
            <div id="partnerList20" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner20.jpg" class="img-fluid">
            </div>
            <div id="partnerList21" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner21.jpg" class="img-fluid">
            </div>
            <div id="partnerList22" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner22.jpg" class="img-fluid">
            </div>
            <div id="partnerList23" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner23.jpg" class="img-fluid">
            </div>
            <div id="partnerList24" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner24.jpg" class="img-fluid">
            </div>
            <div id="partnerList25" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner25.jpg" class="img-fluid">
            </div>
            <div id="partnerList26" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner26.jpg" class="img-fluid">
            </div>
            <div id="partnerList27" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner27.jpg" class="img-fluid">
            </div>
            <div id="partnerList28" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner28.jpg" class="img-fluid">
            </div>
            <div id="partnerList29" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner29.jpg" class="img-fluid">
            </div>
            <div id="partnerList30" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner30.jpg" class="img-fluid">
            </div>
            <div id="partnerList31" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner31.jpg" class="img-fluid">
            </div>
            <div id="partnerList32" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner32.jpg" class="img-fluid">
            </div>
            <div id="partnerList33" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner33.jpg" class="img-fluid">
            </div>
            <div id="partnerList34" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner34.jpg" class="img-fluid">
            </div>
            <div id="partnerList35" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner35.jpg" class="img-fluid">
            </div>
            <div id="partnerList36" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner36.jpg" class="img-fluid">
            </div>
            <div id="partnerList37" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner37.jpg" class="img-fluid">
            </div>
            <div id="partnerList38" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner38.jpg" class="img-fluid">
            </div>
            <div id="partnerList39" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner39.jpg" class="img-fluid">
            </div>
            <div id="partnerList40" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner40.jpg" class="img-fluid">
            </div>
            <div id="partnerList41" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner41.jpg" class="img-fluid">
            </div>
            <div id="partnerList42" class="col-3 mb-3 partner-list-box" data-toggle="modal" data-target="#partnerDetailModal">
                <img src="path/to/partner42.jpg" class="img-fluid">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 夥伴詳細信息的彈出視窗 -->
<div class="modal fade" id="partnerDetailModal" tabindex="-1" role="dialog" aria-labelledby="partnerDetailModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="partnerDetailModalLabel">夥伴詳細信息</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- 在夥伴詳細信息模態框的modal-body中使用Card的格式 -->
      <div class="card">
        <img id="selectedPartnerImage" class="card-img-top" alt="選擇的夥伴圖片" width="50%">
        <div class="card-body">
            <h5 class="card-title" id="selectedPartnerName">夥伴名稱</h5>
            <p class="card-text" id="selectedPartnerDescription">夥伴詳細說明...</p>
          <div class="form-group">
            <label for="partnerLevelInput">等級設定：</label>
            <input type="range" class="form-control-range" id="partnerLevelInput" min="1" max="120" value="1">
            <span id="currentPartnerLevel">等級：1</span>
          </div>
          <button type="button" class="btn btn-primary" id="addPartnerBtn">新增夥伴</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>//夥伴配置JS
  $(document).ready(function () {
    var partnersData = {
    partner0: {
      name: "",
      description: ""
    },
    partner1: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner2: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner3: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner4: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner5: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner6: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner7: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner8: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner9: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner10: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner11: {
      name: "",
      description: "",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner12: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner13: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner14: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner15: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner16: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner17: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner18: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner19: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner20: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner21: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner22: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner23: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner24: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner25: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner26: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner27: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner28: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner29: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner30: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner31: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner32: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner33: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner34: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner35: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner36: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner37: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner38: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner39: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner40: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner41: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
    partner42: {
      name: "",
      description:"",
      level1: "",
      level2: "",
      level3: "",
      level4: "",
      level5: "",
      level6: "",
      level7: "",
      level8: "",
      level9: "",
      level10: ""
    },
  };
  var selectedPartnerImg = ''; // 用來保存選中的夥伴圖片
  var selectedPartnerBoxId = ''; // 用來保存選中的夥伴格子的ID

  // 夥伴清單的彈出視窗
  $('#partnerListModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var modal = $(this);

    // 夥伴清單中的每個格子，包括圖片等信息
    modal.find('.partner-list-box').click(function () {
      var partnerId = $(this).attr('id').replace('partnerList', '');
      var selectedPartnerName=document.getElementById("selectedPartnerName");
      var selectedPartnerDescription=document.getElementById("selectedPartnerDescription");
      partnerId = parseInt(partnerId);
      var selectedPartner = partnersData['partner' + partnerId];

      selectedPartnerImg = $(this).find('img').attr('src');
      selectedPartnerName.innerText=selectedPartner.name;
      selectedPartnerDescription.innerText=selectedPartner.description;
    });
});

  // 夥伴詳細信息模態框
  $('#partnerDetailModal').on('show.bs.modal', function (event) {
    var mpValuerElement = document.getElementById('mpValue');
    var button = $(event.relatedTarget);
    var partnerId = button.attr('id').replace('partnerList', ''); // 獲取夥伴的 ID
    var modal = $(this);
    
    var selectedPartner = partnersData['partner' + partnerId];

    // 在模態框標題中顯示夥伴名稱
    modal.find('.modal-title').text('夥伴詳細信息');

    // 設定拖拉的 bar 的範例
    var partnerLevelInput = modal.find('#partnerLevelInput');
    var currentPartnerLevel = modal.find('#currentPartnerLevel');
    var partnerImage = modal.find('#selectedPartnerImage'); // 夥伴圖片的元素

    // 將夥伴圖片設置為選中的夥伴圖片
    partnerImage.attr('src', selectedPartnerImg);

    // 縮小夥伴圖片
    partnerImage.css('max-width', '50%');

    partnerLevelInput.change(function () {
      var selectedLevel = partnerLevelInput.val();
      var selectPartnerLevel1 = selectedPartner['level1'];
      var selectPartnerLevel = selectedPartner['level'+selectedLevel];
      currentPartnerLevel.text('等級：' + selectedLevel);

      if(Array.isArray(selectPartnerLevel) && selectPartnerLevel.length > 0){
        var areaDamagePercentValue = selectedPartner['level' + selectedLevel] || []; // 如果對應等級的值不存在，則使用空陣列
        var i=0;
        var partnerDescription = selectedPartner.description
          .replace(/\{areaDamagePercent\}/g, areaDamagePercentValue[i++])
          .replace(/\{damagePercent\}/g, areaDamagePercentValue[i]);
      }else{
        var partnerDescription = selectedPartner.description.replace(selectPartnerLevel1,selectPartnerLevel);
      }
      
      // 更新夥伴詳細說明
      modal.find('#selectedPartnerDescription').text(partnerDescription);

      console.log('選擇的等級：' + selectedLevel);
      // 在這裡可以進行相應的處理，比如顯示不同等級的夥伴效果
    });

    // 新增按鈕的點擊事件
    modal.find('#addPartnerBtn').click(function () {
      // 1. 更新最外層頁面上被點擊的夥伴配置
      $('#' + selectedPartnerBoxId + ' img').attr('src', selectedPartnerImg);

      // 2. 更新夥伴配置的夥伴名稱為等級：0
      $('#' + selectedPartnerBoxId + ' p').text('等級：' + partnerLevelInput.val());

      let mpValue = 10;

      // 更新 span 元素的内容
      mpValuerElement.textContent = mpValue;

      // 3. 關閉夥伴詳細信息的模態框
      $('.modal').modal('hide');
    });
  });

  // 夥伴配置的每個格子的點擊事件
  $('.partner-box').click(function () {
    selectedPartnerBoxId = $(this).attr('id');
    // 在這裡你可以進行一些其他的處理，比如顯示選中夥伴的詳細信息等
  });
});
  
</script>

</body>
</html>
